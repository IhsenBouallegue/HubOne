generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

model HubSpace {
  id     Int    @id @default(autoincrement())
  domain String @unique
  hubs   Hub[]
}

model Hub {
  id             Int          @id @default(autoincrement())
  hubName        String
  hubLogo        String
  hubPath        String       @unique
  description    String       @default("Tired of keeping track of new websites? Tired of having to update your bookmarks every few weeks? Access all sites from this one page. Everything is up to date. No need to clutter your life anymore!")
  primaryColor   String       @default("#ff008c")
  secondaryColor String       @default("#0cd4f7")
  HubSpace       HubSpace     @relation(fields: [hubSpaceId], references: [id])
  hubSpaceId     Int
  links           Link[]
  linkGroups      LinkGroup[]
  footerLinks     FooterLink[]
}

model LinkGroup {
  id    Int    @id @default(autoincrement())
  title String
  links Link[]
  hub   Hub    @relation(fields: [hubId], references: [id])
  hubId Int
}

model Link {
  id          Int        @id @default(autoincrement())
  title       String
  description String
  image       String     @default("")
  link        String
  isInternal  Boolean    @default(false)
  LinkGroup   LinkGroup? @relation(fields: [linkGroupId], references: [id])
  linkGroupId Int?
  hub         Hub        @relation(fields: [hubId], references: [id])
  hubId       Int
}

model FooterLink {
  id    Int    @id @default(autoincrement())
  title String
  link  String
  hub   Hub    @relation(fields: [hubId], references: [id])
  hubId Int
}
